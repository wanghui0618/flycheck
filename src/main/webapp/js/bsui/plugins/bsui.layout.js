/**
 * jQuery EasyUI 1.5.1
 *
 * Copyright (c) 2009-2016 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the freeware license: http://www.jeasyui.com/license_freeware.php
 * To use it on other terms please contact us: info@jeasyui.com
 *
 */(function(c){function l(b,a){function f(b,a){if(b.length&&n(b)){var c=b.panel("options");b.panel("resize",{width:d.width(),height:c.height});var g=b.panel("panel").outerHeight();b.panel("move",{left:0,top:"n"==a?0:d.height()-g});e.height-=g;"n"==a&&(e.top+=g,!c.split&&c.border&&e.top--);!c.split&&c.border&&e.height++}}function h(b,a){if(b.length&&n(b)){var c=b.panel("options");b.panel("resize",{width:c.width,height:e.height});var g=b.panel("panel").outerWidth();b.panel("move",{left:"e"==a?d.width()-g:0,top:e.top});e.width-=g;"w"==a&&(e.left+=g,!c.split&&c.border&&e.left--);!c.split&&c.border&&e.width++}}var k=c.data(b,"layout"),g=k.options,k=k.panels,d=c(b);a&&c.extend(g,{width:a.width,height:a.height});"body"==b.tagName.toLowerCase()?d._size("fit"):d._size(g);var e={top:0,left:0,width:d.width(),height:d.height()};f(n(k.expandNorth)?k.expandNorth:k.north,"n");f(n(k.expandSouth)?k.expandSouth:k.south,"s");h(n(k.expandEast)?k.expandEast:k.east,"e");h(n(k.expandWest)?k.expandWest:k.west,"w");k.center.panel("resize",e)}function v(b){var a=c(b);a.addClass("layout");var f=a.layout("options"),h=f.onAdd;f.onAdd=function(){};a.find("\x3ediv,\x3eform\x3ediv").each(function(){var a=c.fn.layout.parsePanelOptions(this);0<="north,south,east,west,center".indexOf(a.region)&&m(b,a,this)});f.onAdd=h;a.append('\x3cdiv class\x3d"layout-split-proxy-h"\x3e\x3c/div\x3e\x3cdiv class\x3d"layout-split-proxy-v"\x3e\x3c/div\x3e');a.bind("_resize",function(a,g){(c(this).hasClass("bsui-fluid")||g)&&l(b);return!1})}function m(b,a,f){a.region=a.region||"center";var h=c.data(b,"layout").panels,k=c(b),g=a.region;if(!h[g].length){var d=c(f);d.length||(d=c("\x3cdiv\x3e\x3c/div\x3e").appendTo(k));f=c.extend({},c.fn.layout.paneldefaults,{width:d.length?parseInt(d[0].style.width)||d.outerWidth():"auto",height:d.length?parseInt(d[0].style.height)||d.outerHeight():"auto",doSize:!1,collapsible:!0,onOpen:function(){var a=c(this).panel("header").children("div.panel-tool");a.children("a.panel-tool-collapse").hide();var e={north:"up",south:"down",east:"right",west:"left"};if(e[g]){var e="layout-button-"+e[g],d=a.children("a."+e);d.length||(d=c('\x3ca href\x3d"javascript:void(0)"\x3e\x3c/a\x3e').addClass(e).appendTo(a),d.bind("click",{dir:g},function(a){p(b,a.data.dir);return!1}));c(this).panel("options").collapsible?d.show():d.hide()}}},a,{cls:(a.cls||"")+" layout-panel layout-panel-"+g,bodyCls:(a.bodyCls||"")+" layout-body"});d.panel(f);h[g]=d;var e=d.panel("panel");d.panel("options").split&&e.addClass("layout-split-"+g);e.resizable(c.extend({},{handles:{north:"s",south:"n",east:"w",west:"e"}[g]||"",disabled:!d.panel("options").split,onStartResize:function(a){r=!0;a="north"==g||"south"==g?c("\x3ediv.layout-split-proxy-v",b):c("\x3ediv.layout-split-proxy-h",b);var d={display:"block"};"north"==g?(d.top=parseInt(e.css("top"))+e.outerHeight()-a.height(),d.left=parseInt(e.css("left")),d.width=e.outerWidth(),d.height=a.height()):"south"==g?(d.top=parseInt(e.css("top")),d.left=parseInt(e.css("left")),d.width=e.outerWidth(),d.height=a.height()):"east"==g?(d.top=parseInt(e.css("top"))||0,d.left=parseInt(e.css("left"))||0,d.width=a.width(),d.height=e.outerHeight()):"west"==g&&(d.top=parseInt(e.css("top"))||0,d.left=e.outerWidth()-a.width(),d.width=a.width(),d.height=e.outerHeight());a.css(d);c('\x3cdiv class\x3d"layout-mask"\x3e\x3c/div\x3e').css({left:0,top:0,width:k.width(),height:k.height()}).appendTo(k)},onResize:function(a){if("north"==g||"south"==g){var d=c("\x3ediv.layout-split-proxy-v",b);d.css("top",a.pageY-c(b).offset().top-d.height()/2)}else d=c("\x3ediv.layout-split-proxy-h",b),d.css("left",a.pageX-c(b).offset().left-d.width()/2);return!1},onStopResize:function(a){k.children("div.layout-split-proxy-v,div.layout-split-proxy-h").hide();d.panel("resize",a.data);l(b);r=!1;k.find("\x3ediv.layout-mask").remove()}},a));k.layout("options").onAdd.call(b,g)}}function p(b,a,f){function h(d){var g="north"==e.region||"south"==e.region,f="layout-button-"+{east:"left",west:"right",north:"down",south:"up"}[d],h=c("\x3cdiv\x3e\x3c/div\x3e").appendTo(b);h.panel(c.extend({},c.fn.layout.paneldefaults,{cls:"layout-expand layout-expand-"+d,title:"\x26nbsp;",iconCls:e.hideCollapsedContent?null:e.iconCls,closed:!0,minWidth:0,minHeight:0,doSize:!1,region:e.region,collapsedSize:e.collapsedSize,noheader:!g&&e.hideExpandTool,tools:g&&e.hideExpandTool?null:[{iconCls:f,handler:function(){t(b,a);return!1}}]}));e.hideCollapsedContent||(d="function"==typeof e.collapsedContent?e.collapsedContent.call(h[0],e.title):e.collapsedContent,g?h.panel("setTitle",d):h.html(d));h.panel("panel").hover(function(){c(this).addClass("layout-expand-over")},function(){c(this).removeClass("layout-expand-over")});return h}function k(){var h=c(b),f=g.center.panel("options"),k=e.collapsedSize;if("east"==a){var l=d.panel("panel")._outerWidth(),m=f.width+l-k;!e.split&&e.border||m++;return{resizeC:{width:m},expand:{left:h.width()-l},expandP:{top:f.top,left:h.width()-k,width:k,height:f.height},collapse:{left:h.width(),top:f.top,height:f.height}}}if("west"==a)return l=d.panel("panel")._outerWidth(),m=f.width+l-k,!e.split&&e.border||m++,{resizeC:{width:m,left:k-1},expand:{left:0},expandP:{left:0,top:f.top,width:k,height:f.height},collapse:{left:-l,top:f.top,height:f.height}};if("north"==a)return l=d.panel("panel")._outerHeight(),f=f.height,n(g.expandNorth)||(f+=l-k+(e.split||!e.border?1:0)),g.east.add(g.west).add(g.expandEast).add(g.expandWest).panel("resize",{top:k-1,height:f}),{resizeC:{top:k-1,height:f},expand:{top:0},expandP:{top:0,left:0,width:h.width(),height:k},collapse:{top:-l,width:h.width()}};if("south"==a)return l=d.panel("panel")._outerHeight(),f=f.height,n(g.expandSouth)||(f+=l-k+(e.split||!e.border?1:0)),g.east.add(g.west).add(g.expandEast).add(g.expandWest).panel("resize",{height:f}),{resizeC:{height:f},expand:{top:h.height()-l},expandP:{top:h.height()-k,left:0,width:h.width(),height:k},collapse:{top:h.height(),width:h.width()}}}void 0==f&&(f="normal");var g=c.data(b,"layout").panels,d=g[a],e=d.panel("options");if(0!=e.onBeforeCollapse.call(d)){var l="expand"+a.substring(0,1).toUpperCase()+a.substring(1);if(!g[l]){g[l]=h(a);var m=g[l].panel("panel");e.expandMode?m.bind("click",function(){if("dock"==e.expandMode)t(b,a);else{d.panel("expand",!1).panel("open");var f=k();d.panel("resize",f.collapse);d.panel("panel").animate(f.expand,function(){c(this).unbind(".layout").bind("mouseleave.layout",{region:a},function(a){1!=r&&(c("body\x3ediv.combo-p\x3ediv.combo-panel:visible").length||p(b,a.data.region))});c(b).layout("options").onExpand.call(b,a)})}return!1}):m.css("cursor","default")}var q=k();n(g[l])||g.center.panel("resize",q.resizeC);d.panel("panel").animate(q.collapse,f,function(){d.panel("collapse",!1).panel("close");g[l].panel("open").panel("resize",q.expandP);c(this).unbind(".layout");c(b).layout("options").onCollapse.call(b,a)})}}function t(b,a){function f(){var d=c(b),f=h.center.panel("options");if("east"==a&&h.expandEast)return{collapse:{left:d.width(),top:f.top,height:f.height},expand:{left:d.width()-k.panel("panel")._outerWidth()}};if("west"==a&&h.expandWest)return{collapse:{left:-k.panel("panel")._outerWidth(),top:f.top,height:f.height},expand:{left:0}};if("north"==a&&h.expandNorth)return{collapse:{top:-k.panel("panel")._outerHeight(),width:d.width()},expand:{top:0}};if("south"==a&&h.expandSouth)return{collapse:{top:d.height(),width:d.width()},expand:{top:d.height()-k.panel("panel")._outerHeight()}}}var h=c.data(b,"layout").panels,k=h[a];if(0!=k.panel("options").onBeforeExpand.call(k)){var g="expand"+a.substring(0,1).toUpperCase()+a.substring(1);h[g]&&(h[g].panel("close"),k.panel("panel").stop(!0,!0),k.panel("expand",!1).panel("open"),g=f(),k.panel("resize",g.collapse),k.panel("panel").animate(g.expand,function(){l(b);c(b).layout("options").onExpand.call(b,a)}))}}function n(b){return b?b.length?b.panel("panel").is(":visible"):!1:!1}function w(b){function a(a){var c=k[a];c.length&&c.panel("options").collapsed&&p(b,a,0)}var f=c.data(b,"layout"),h=f.options,k=f.panels,f=h.onCollapse;h.onCollapse=function(){};a("east");a("west");a("north");a("south");h.onCollapse=f}function u(b,a,f){var h=c(b).layout("panel",a);h.panel("options").split=f;a="layout-split-"+a;h=h.panel("panel").removeClass(a);f&&h.addClass(a);h.resizable({disabled:!f});l(b)}var r=!1;c.fn.layout=function(b,a){if("string"==typeof b)return c.fn.layout.methods[b](this,a);b=b||{};return this.each(function(){var a=c.data(this,"layout");a?c.extend(a.options,b):(a=c.extend({},c.fn.layout.defaults,c.fn.layout.parseOptions(this),b),c.data(this,"layout",{options:a,panels:{center:c(),north:c(),south:c(),east:c(),west:c()}}),v(this));l(this);w(this)})};c.fn.layout.methods={options:function(b){return c.data(b[0],"layout").options},resize:function(b,a){return b.each(function(){l(this,a)})},panel:function(b,a){return c.data(b[0],"layout").panels[a]},collapse:function(b,a){return b.each(function(){p(this,a)})},expand:function(b,a){return b.each(function(){t(this,a)})},add:function(b,a){return b.each(function(){m(this,a);l(this);c(this).layout("panel",a.region).panel("options").collapsed&&p(this,a.region,0)})},remove:function(b,a){return b.each(function(){var b=c.data(this,"layout").panels;if(b[a].length){b[a].panel("destroy");b[a]=c();var h="expand"+a.substring(0,1).toUpperCase()+a.substring(1);b[h]&&(b[h].panel("destroy"),b[h]=void 0);c(this).layout("options").onRemove.call(this,a)}l(this)})},split:function(b,a){return b.each(function(){u(this,a,!0)})},unsplit:function(b,a){return b.each(function(){u(this,a,!1)})}};c.fn.layout.parseOptions=function(b){return c.extend({},c.parser.parseOptions(b,[{fit:"boolean"}]))};c.fn.layout.defaults={fit:!1,onExpand:function(b){},onCollapse:function(b){},onAdd:function(b){},onRemove:function(b){}};c.fn.layout.parsePanelOptions=function(b){c(b);return c.extend({},c.fn.panel.parseOptions(b),c.parser.parseOptions(b,["region",{split:"boolean",collpasedSize:"number",minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number"}]))};c.fn.layout.paneldefaults=c.extend({},c.fn.panel.defaults,{region:null,split:!1,collapsedSize:28,expandMode:"float",hideExpandTool:!1,hideCollapsedContent:!0,collapsedContent:function(b){var a=c(this).panel("options");if("north"==a.region||"south"==a.region)return b;var f=a.collapsedSize-2,f=f-(f-16)/2,h=[];a.iconCls&&h.push('\x3cdiv class\x3d"panel-icon '+a.iconCls+'"\x3e\x3c/div\x3e');h.push('\x3cdiv class\x3d"panel-title layout-expand-title');h.push(a.iconCls?" layout-expand-with-icon":"");h.push('" style\x3d"left:'+f+'px"\x3e');h.push(b);h.push("\x3c/div\x3e");return h.join("")},minWidth:10,minHeight:10,maxWidth:1E4,maxHeight:1E4})})(jQuery);