/**
 * dhcc-bsui-1.5.3.4
 * component:linkbutton
 */(function(b){function f(a,d){var c=b.data(a,"linkbutton").options;d&&b.extend(c,d);if(c.width||c.height||c.fit){var e=b(a),k=e.parent(),f=e.is(":visible");if(!f){var g=b('\x3cdiv style\x3d"display:none"\x3e\x3c/div\x3e').insertBefore(a),h={position:e.css("position"),display:e.css("display"),left:e.css("left")};e.appendTo("body");e.css({position:"absolute",display:"inline-block",left:-2E4})}e._size(c,k);c=e.find(".l-btn-left");c.css("margin-top",0);c.css("margin-top",parseInt((e.height()-c.height())/2)+"px");f||(e.insertAfter(g),e.css(h),g.remove())}}function l(a){var d=b.data(a,"linkbutton").options,c=b(a).empty();c.addClass("l-btn").removeClass("active disabled");d.size&&c.removeClass("btn-lg btn-sm btn-xs btn-block").addClass("btn-"+d.size);c.hasClass("btn")||c.addClass("btn");d.btnCls&&c.addClass("btn-"+d.btnCls+" btn-default");d.plain&&c.removeClass("btn-default btn-secondary btn-primary btn-success btn-info btn-warning btn-danger").addClass("l-btn-plain");d.selected&&(c.hasClass("btn-link")?null:c.addClass("active"));c.attr("group",d.group||"");var e=b('\x3cspan class\x3d"l-btn-left"\x3e\x3c/span\x3e').appendTo(c);d.text?b('\x3cspan class\x3d"l-btn-text"\x3e\x3c/span\x3e').html(d.text).appendTo(e):b('\x3cspan class\x3d"l-btn-text l-btn-empty"\x3e\x26nbsp;\x3c/span\x3e').appendTo(e);d.iconCls&&(b('\x3cspan class\x3d"l-btn-icon"\x3e\x26nbsp;\x3c/span\x3e').addClass(d.iconCls).appendTo(e),e.addClass("l-btn-icon-"+d.iconAlign));c.unbind(".linkbutton").bind("focus.linkbutton",function(){d.disabled||b(this).addClass("l-btn-focus")}).bind("blur.linkbutton",function(){b(this).removeClass("l-btn-focus")}).bind("click.linkbutton",function(){d.disabled||(d.toggle&&(d.selected?b(this).linkbutton("unselect"):b(this).linkbutton("select")),d.onClick.call(this))});g(a,d.selected);h(a,d.disabled);d.authorization&&(c.attr("id")?d.id=c.attr("id"):(d.id="_bsui_linkbutton_a"+m++,c.attr("id",d.id||null)));c.addClass("bsui-linkbutton")}function g(a,d){var c=b.data(a,"linkbutton").options;d?(c.group&&b('a.l-btn[group\x3d"'+c.group+'"]').each(function(){var a=b(this).linkbutton("options");a.toggle&&(b(this).removeClass("l-btn-selected l-btn-plain-selected active"),a.selected=!1)}),b(a).addClass(c.plain?"l-btn-selected l-btn-plain-selected active":"l-btn-selected active"),c.selected=!0):c.group||(b(a).removeClass("l-btn-selected l-btn-plain-selected active"),c.selected=!1)}function h(a,d){var c=b.data(a,"linkbutton"),e=c.options;b(a).removeClass("l-btn-disabled l-btn-plain-disabled disabled");if(d){e.disabled=!0;var f=b(a).attr("href");f&&(c.href=f,b(a).attr("href","javascript:void(0)"));a.onclick&&(c.onclick=a.onclick,a.onclick=null);e.plain?b(a).addClass("l-btn-disabled l-btn-plain-disabled disabled"):b(a).addClass("l-btn-disabled disabled")}else e.disabled=!1,c.href&&b(a).attr("href",c.href),c.onclick&&(a.onclick=c.onclick)}function n(a){a=b.data(a,"linkbutton").options;var d=a.id;a.authorization&&(b(document).data("authorizedBtns")||b(document).data("authorizedBtns",{}),b(document).data("authorizedBtns")[d]=a.authorization)}var m=0;b.fn.linkbutton=function(a,d){if("string"==typeof a)return b.fn.linkbutton.methods[a](this,d);a=a||{};return this.each(function(){var c=b.data(this,"linkbutton");c?b.extend(c.options,a):(b.data(this,"linkbutton",{options:b.extend({},b.fn.linkbutton.defaults,b.fn.linkbutton.parseOptions(this),a)}),b(this).removeAttr("disabled"),b(this).bind("_resize",function(a,c){(b(this).hasClass("bsui-fluid")||c)&&f(this);return!1}));l(this);f(this);n(this)})};b.fn.linkbutton.methods={options:function(a){return b.data(a[0],"linkbutton").options},resize:function(a,b){return a.each(function(){f(this,b)})},enable:function(a){return a.each(function(){h(this,!1)})},disable:function(a){return a.each(function(){h(this,!0)})},select:function(a){return a.each(function(){g(this,!0)})},unselect:function(a){return a.each(function(){g(this,!1)})}};b.fn.linkbutton.parseOptions=function(a){var d=b(a);return b.extend({},b.parser.parseOptions(a,["id","authorization","iconCls","iconAlign","group","size","text","btnCls",{plain:"boolean",toggle:"boolean",selected:"boolean"}]),{disabled:d.attr("disabled")?!0:void 0,text:b.trim(d.html())||void 0,iconCls:d.attr("icon")||d.attr("iconCls")})};b.fn.linkbutton.defaults={id:null,authorization:null,disabled:!1,toggle:!1,selected:!1,btnCls:"default",group:null,plain:!1,text:"",iconCls:null,iconAlign:"left",size:null,onClick:function(){}}})(jQuery);