/**
 * dhcc-bsui-1.5.3.4
 * component:pagination
 */(function(a){function t(b){function k(c){var e=d.nav[c];c=a('\x3ca href\x3d"javascript:void(0)"\x3e\x3c/a\x3e').appendTo(g);c.wrap("\x3ctd\x3e\x3c/td\x3e");c.linkbutton({iconCls:e.iconCls,plain:!0}).unbind(".pagination").bind("click.pagination",function(){e.handler.call(b)});return c}function e(b,c){var d=a.inArray(c,b);0<=d&&b.splice(d,1);return b}var c=a.data(b,"pagination"),d=c.options,f=c.bb={},c=a(b).addClass("pagination").html('\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0"\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/table\x3e'),g=c.find("tr"),l=a.extend([],d.layout);d.showPageList||e(l,"list");d.showRefresh||e(l,"refresh");"sep"==l[0]&&l.shift();"sep"==l[l.length-1]&&l.pop();for(var m=0;m<l.length;m++){var h=l[m];if("list"==h){for(var n=d.pageList[0],h=a.inArray(d.pageSize,d.pageList),p=a('\x3cul class\x3d"dropdown-menu" role\x3d"menu"\x3e\x3c/ul\x3e'),n=-1!=h?d.pageList[h]:"\x26nbsp;\x26nbsp;",h=0;h<d.pageList.length;h++)a('\x3cli\x3e\x3ca href\x3d"javascript:void(0)"\x3e'+d.pageList[h]+"\x3c/a\x3e\x3c/li\x3e").appendTo(p);h=a('\x3cdiv class\x3d"btn-group '+d.dropPos+'"\x3e\x3cbutton type\x3d"button" class\x3d"btn btn-default btn-secondary dropdown-toggle btn-xs" data-toggle\x3d"dropdown"\x3e\x3cspan\x3e'+n+'\x3c/span\x3e \x3cspan class\x3d"caret"\x3e\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e').append(p);a("\x3ctd\x3e\x3c/td\x3e").append(h).appendTo(g);p.bind("click",function(c){c=a(c.target);var e=p.prev().find("span:first-child"),k=e.text();c.is("a")&&k!=c.text()&&(e.text(c.text()),d.pageSize=parseInt(c.text()),d.onChangePageSize.call(b,d.pageSize),q(b,d.pageNumber))})}else"sep"==h?a('\x3ctd\x3e\x3cdiv class\x3d"pagination-btn-separator"\x3e\x3c/div\x3e\x3c/td\x3e').appendTo(g):"first"==h?f.first=k("first"):"prev"==h?f.prev=k("prev"):"next"==h?f.next=k("next"):"last"==h?f.last=k("last"):"manual"==h?(a('\x3cspan style\x3d"padding-left:6px;"\x3e\x3c/span\x3e').html(d.beforePageText).appendTo(g).wrap("\x3ctd\x3e\x3c/td\x3e"),f.num=a('\x3cinput class\x3d"pagination-num form-control" type\x3d"text" value\x3d"1" size\x3d"2"\x3e').appendTo(g).wrap("\x3ctd\x3e\x3c/td\x3e"),f.num.unbind(".pagination").bind("keydown.pagination",function(c){if(13==c.keyCode)return c=parseInt(a(this).val())||1,q(b,c),!1}),f.after=a('\x3cspan style\x3d"padding-right:6px;"\x3e\x3c/span\x3e').appendTo(g).wrap("\x3ctd\x3e\x3c/td\x3e")):"refresh"==h?f.refresh=k("refresh"):"links"==h&&a('\x3ctd class\x3d"pagination-links"\x3e\x3c/td\x3e').appendTo(g)}if(d.buttons)if(a('\x3ctd\x3e\x3cdiv class\x3d"pagination-btn-separator"\x3e\x3c/div\x3e\x3c/td\x3e').appendTo(g),a.isArray(d.buttons))for(h=0;h<d.buttons.length;h++)f=d.buttons[h],"-"==f?a('\x3ctd\x3e\x3cdiv class\x3d"pagination-btn-separator"\x3e\x3c/div\x3e\x3c/td\x3e').appendTo(g):(l=a("\x3ctd\x3e\x3c/td\x3e").appendTo(g),l=a('\x3ca href\x3d"javascript:void(0)"\x3e\x3c/a\x3e').appendTo(l),l[0].onclick=eval(f.handler||function(){}),l.linkbutton(a.extend({},f,{plain:!0})));else l=a("\x3ctd\x3e\x3c/td\x3e").appendTo(g),a(d.buttons).appendTo(l).show();a('\x3cdiv class\x3d"pagination-info"\x3e\x3c/div\x3e').appendTo(c);a('\x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e').appendTo(c)}function q(b,k){var e=a.data(b,"pagination").options;n(b,{pageNumber:k});e.onSelectPage.call(b,e.pageNumber,e.pageSize)}function n(b,k){var e=a.data(b,"pagination"),c=e.options,e=e.bb;a.extend(c,k||{});var d=a(b).find("select.pagination-page-list");d.length&&(d.val(c.pageSize+""),c.pageSize=parseInt(d.val()));d=Math.ceil(c.total/c.pageSize)||1;1>c.pageNumber&&(c.pageNumber=1);c.pageNumber>d&&(c.pageNumber=d);0==c.total&&(d=c.pageNumber=0);e.num&&e.num.val(c.pageNumber);e.after&&e.after.html(c.afterPageText.replace(/{pages}/,d));var f=a(b).find("td.pagination-links");if(f.length){f.addClass("btn-group").empty();var g=c.pageNumber-Math.floor(c.links/2);1>g&&(g=1);var l=g+c.links-1;l>d&&(l=d);g=l-c.links+1;for(1>g&&(g=1);g<=l;g++){var m=a('\x3ca class\x3d"pagination-link" href\x3d"javascript:void(0)"\x3e\x3c/a\x3e').appendTo(f);m.linkbutton({text:g});g==c.pageNumber?(m.linkbutton("select"),m.hasClass("active")&&m.addClass("btn-pager").removeClass("btn-default btn-secondary active")):m.unbind(".pagination").bind("click.pagination",{pageNumber:g},function(c){q(b,c.data.pageNumber)})}}f=c.displayMsg;f=f.replace(/{from}/,0==c.total?0:c.pageSize*(c.pageNumber-1)+1);f=f.replace(/{to}/,Math.min(c.pageSize*c.pageNumber,c.total));f=f.replace(/{total}/,c.total);a(b).find("div.pagination-info").html(f);e.first&&e.first.linkbutton({disabled:!c.total||1==c.pageNumber});e.prev&&e.prev.linkbutton({disabled:!c.total||1==c.pageNumber});e.next&&e.next.linkbutton({disabled:c.pageNumber==d});e.last&&e.last.linkbutton({disabled:c.pageNumber==d});r(b,c.loading)}function r(b,k){var e=a.data(b,"pagination"),c=e.options;c.loading=k;c.showRefresh&&e.bb.refresh&&e.bb.refresh.linkbutton({iconCls:c.loading?"pagination-loading":"pagination-load"})}a.fn.pagination=function(b,k){if("string"==typeof b)return a.fn.pagination.methods[b](this,k);b=b||{};return this.each(function(){var e;(e=a.data(this,"pagination"))?a.extend(e.options,b):(e=a.extend({},a.fn.pagination.defaults,a.fn.pagination.parseOptions(this),b),a.data(this,"pagination",{options:e}));t(this);n(this)})};a.fn.pagination.methods={options:function(b){return a.data(b[0],"pagination").options},loading:function(b){return b.each(function(){r(this,!0)})},loaded:function(b){return b.each(function(){r(this,!1)})},refresh:function(b,a){return b.each(function(){n(this,a)})},select:function(b,a){return b.each(function(){q(this,a)})}};a.fn.pagination.parseOptions=function(b){var k=a(b);return a.extend({},a.parser.parseOptions(b,["dropPos",{total:"number",pageSize:"number",pageNumber:"number",links:"number"},{loading:"boolean",showPageList:"boolean",showRefresh:"boolean"}]),{pageList:k.attr("pageList")?eval(k.attr("pageList")):void 0})};a.fn.pagination.defaults={total:1,pageSize:10,pageNumber:1,pageList:[10,20,30,50],loading:!1,buttons:null,dropPos:"dropup",showPageList:!0,showRefresh:!0,links:10,layout:"list sep first prev sep manual sep next last sep refresh".split(" "),onSelectPage:function(b,a){},onBeforeRefresh:function(b,a){},onRefresh:function(b,a){},onChangePageSize:function(a){},beforePageText:"Page",afterPageText:"of {pages}",displayMsg:"Displaying {from} to {to} of {total} items",nav:{first:{iconCls:"pagination-first",handler:function(){1<a(this).pagination("options").pageNumber&&a(this).pagination("select",1)}},prev:{iconCls:"pagination-prev",handler:function(){var b=a(this).pagination("options");1<b.pageNumber&&a(this).pagination("select",b.pageNumber-1)}},next:{iconCls:"pagination-next",handler:function(){var b=a(this).pagination("options");b.pageNumber<Math.ceil(b.total/b.pageSize)&&a(this).pagination("select",b.pageNumber+1)}},last:{iconCls:"pagination-last",handler:function(){var b=a(this).pagination("options"),k=Math.ceil(b.total/b.pageSize);b.pageNumber<k&&a(this).pagination("select",k)}},refresh:{iconCls:"pagination-refresh",handler:function(){var b=a(this).pagination("options");0!=b.onBeforeRefresh.call(this,b.pageNumber,b.pageSize)&&(a(this).pagination("select",b.pageNumber),b.onRefresh.call(this,b.pageNumber,b.pageSize))}}}}})(jQuery);